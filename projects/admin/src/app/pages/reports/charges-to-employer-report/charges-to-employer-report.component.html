<div class="inner-sidenav-content transition-2">
	<!-- <div fxLayout="row wrap" fxFill>
		<div fxFlex fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="15px">
			<h1 style="color: #bbbbbb; text-transform: uppercase; text-align: center;">
				Working Here
			</h1>
			<button mat-stroked-button (click)="backClicked()">
				<mat-icon>arrow_back</mat-icon>
				Go Back
			</button>
		</div>
	</div> -->
	<div fxLayout="row wrap">
		<div class="flex-p" fxFlex="100">
			<mat-card fxLayout="row wrap">
				<div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="space-between start">
					<mat-form-field fxFlex="100" fxFlex.gt-sm="40" appearance="outline">
						<mat-label>Choose Employer</mat-label>
						<mat-select placeholder="Choose Employer" name="SelectedEmployer" [(ngModel)]="SelectedEmployer" (ngModelChange)="getEmployerJobs($event)">
							<mat-option *ngFor="let employer of employers_list" [value]="employer._id">
								{{employer.companyname}} - {{employer.companycode}}
							</mat-option>
						</mat-select>
					</mat-form-field>

					<mat-form-field *ngIf="employerDatas" fxFlex="100" fxFlex.gt-sm="40" appearance="outline">
						<mat-label>Search Jobs</mat-label>
						<input matInput #employeeFilterRef name="jobFilter" [(ngModel)]="jobFilter" placeholder="Search Jobs...">
					</mat-form-field>
				</div>

				<mat-accordion *ngIf="employerDatas" class="accordion-reports" fxFlex="100">
					<mat-expansion-panel *ngFor="let job of employerDatas.jobs | filter:jobFilter; let i = index" #expPanel>
						<mat-expansion-panel-header fxAlignLayout="space-between center" style="height: 100px!important;">
							<mat-panel-title fxFlex>
								Job No: {{job.jobNumber}}
							</mat-panel-title>
							<mat-panel-description fxFlex *ngIf="expPanel.expanded">
								<mat-form-field class="no-padding" (click)="$event.stopPropagation()" appearance="outline" fxFlex="100">
									<mat-label>Search Employees</mat-label>
									<input matInput name="employeeFilter" [(ngModel)]="employeeFilter" placeholder="Search Employees...">
								</mat-form-field>
							</mat-panel-description>
						</mat-expansion-panel-header>

						<mat-accordion>
							<mat-expansion-panel class="contractor" *ngFor="let contractor of job.contractors | filter:employeeFilter;">
								<mat-expansion-panel-header>
									<mat-panel-title>
										Employee Name: {{contractor.name}}
									</mat-panel-title>
									<mat-panel-description>
										Employee Code: {{contractor.employeeCode}}
									</mat-panel-description>
								</mat-expansion-panel-header>

								<app-charges-to-emp-timesheet [displayDatasource]="contractor.timesheets" [columns]="displayedColumns"
								 [pageSize]="5"></app-charges-to-emp-timesheet>

							</mat-expansion-panel>
						</mat-accordion>

					</mat-expansion-panel>
				</mat-accordion>
			</mat-card>
		</div>
	</div>
</div>
